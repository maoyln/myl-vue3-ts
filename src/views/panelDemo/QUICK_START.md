# 快速开始指南

## 🚀 立即体验扩展功能

### 1️⃣ 热区识别演示

**操作步骤**：
```
1. 打开 Demo 页面
2. 拖动任意悬浮面板
3. 移动到屏幕边缘或中心区域
4. 观察半透明蓝色预览区域
5. 释放鼠标完成停靠（待实现）
```

**视觉效果**：
- 边缘热区：80px 检测范围
- 预览区域：占屏幕 30%
- 动画效果：呼吸动画
- 标签提示：显示停靠方向

---

### 2️⃣ 占比调整演示

**调整分组占比**：
```
1. 找到停靠容器中两个分组之间的边界
2. 鼠标悬停，出现蓝色线条
3. 按住鼠标拖动
4. 释放鼠标确认调整
```

**调整面板占比**：
```
1. 找到同一分组内两个面板之间的边界
2. 鼠标悬停，出现蓝色线条
3. 按住鼠标拖动
4. 释放鼠标确认调整
```

**限制条件**：
- 最小占比：10%
- 最大占比：90%
- 总占比：自动归一化为 100%

---

### 3️⃣ 层级管理演示

**使用层级控制按钮**：

```
┌─────────────────────────┐
│                    [控制器] │  ← 右上角浮动工具栏
│   ⬆ ↑ ↓ [1000]           │
│                          │
│   面板内容                │
└─────────────────────────┘
```

**按钮功能**：
| 按钮 | 功能 | 快捷说明 |
|------|------|---------|
| ⬆ | 置于顶层 | 一键最前 |
| ↑ | 前移一层 | 与上交换 |
| ↓ | 后移一层 | 与下交换 |
| 数字 | 当前层级 | zIndex |

**操作演示**：
```
1. 打开多个悬浮面板
2. 鼠标悬停到任意面板
3. 右上角显示层级控制器
4. 点击按钮调整层级
5. 数字显示当前 zIndex
```

---

### 4️⃣ 标签拖拽演示

**跨面板移动标签**：

```
步骤 1: 拖动标签页
  ┌─────────┐
  │ Tab1 Tab2│  ← 按住 Tab2
  └─────────┘

步骤 2: 移动到目标面板
  ┌─────────┐
  │ TabA TabB│  ← 悬停显示插入位置
  └─────────┘
     ↑
  [Tab2]

步骤 3: 释放鼠标
  ┌─────────────┐
  │ TabA Tab2 TabB│  ← 完成移动
  └─────────────┘
```

**自动拆分为新面板**：

```
步骤 1: 拖动标签页
  ┌─────────┐
  │ Tab1 Tab2│  ← 按住 Tab2
  └─────────┘

步骤 2: 拖动 > 50px
  ┌─────────┐
  │ Tab1    │
  └─────────┘
            ┌───────┐
            │ Tab2  │  ← 自动创建新面板
            └───────┘

步骤 3: 继续拖动新面板
  （跟随鼠标移动）
```

**操作要点**：
- 短距离拖动：跨组移动
- 长距离拖动（>50px）：拆分为新面板
- 悬停显示插入位置
- 源面板无标签时自动删除

---

### 5️⃣ 面板合并演示

**通过拖拽合并**：

```
场景：将两个面板合并为一个

面板 A          面板 B
┌────────┐    ┌────────┐
│ Tab1   │    │ TabX   │
└────────┘    └────────┘

拖动 TabX 到面板 A：

面板 A
┌──────────────┐
│ Tab1  TabX   │  ← 合并成功
└──────────────┘

面板 B 自动删除（无标签）
```

**代码方式合并**：

```typescript
// 合并整个面板
panelManager.mergePanelGroups(
  'panel_source',  // 源面板ID
  'panel_target'   // 目标面板ID
);

结果：
- 源面板的所有标签 → 目标面板
- 源面板自动删除
```

---

## 🎯 实际应用场景

### 场景 1：调整布局比例

```
需求：图层面板太小，属性面板太大

操作：
1. 找到两个面板之间的边界
2. 拖动手柄向下移动
3. 图层面板变大，属性面板变小

结果：占比自动调整，总和保持100%
```

### 场景 2：整理多个悬浮面板

```
需求：10个悬浮面板堆叠混乱

操作：
1. 点击最重要的面板 → 自动置顶
2. 点击 ⬆ 按钮 → 确保在最前
3. 其他面板点击 ↓ 按钮 → 后移

结果：层级清晰，重要面板始终在前
```

### 场景 3：重组工作空间

```
需求：将颜色和画笔标签合并到一个面板

操作：
1. 从画笔面板拖动"画笔"标签
2. 移动到颜色面板
3. 释放鼠标完成合并

结果：两个相关功能合并在一个面板
```

### 场景 4：快速创建新面板

```
需求：将某个标签独立为新面板

操作：
1. 拖动标签页
2. 移动超过 50px
3. 自动创建新面板
4. 继续拖动到合适位置

结果：标签独立显示，原面板保留
```

---

## 🔧 配置选项

### 热区大小配置

```typescript
const panelManager = usePanelManager({
  hotZoneSize: 80,      // 默认 80px
  minPanelWidth: 200,   // 最小宽度
  minPanelHeight: 150   // 最小高度
});
```

**建议值**：
- 小屏幕：`hotZoneSize: 60`
- 中等屏幕：`hotZoneSize: 80`（默认）
- 大屏幕：`hotZoneSize: 100`

### 占比限制配置

```typescript
// 在 usePanelManager.ts 中修改
const minRatio = 0.1;  // 最小占比 10%

// 可以改为更严格的限制
const minRatio = 0.15;  // 最小占比 15%
const maxRatio = 0.85;  // 最大占比 85%
```

### 拆分距离配置

```typescript
// 在 LayoutManagerComponent.vue 中修改
if (distance > 50) {  // 默认 50px
  // 拆分为新面板
}

// 可以改为更敏感
if (distance > 30) {  // 30px 即触发
```

---

## 📱 响应式支持

### 不同屏幕尺寸建议

| 屏幕尺寸 | 热区大小 | 最小面板宽度 | 最小面板高度 |
|---------|---------|------------|------------|
| 小屏 (<1280px) | 60px | 180px | 120px |
| 中屏 (1280-1920px) | 80px | 200px | 150px |
| 大屏 (>1920px) | 100px | 250px | 180px |

### 动态配置示例

```typescript
const getResponsiveConfig = () => {
  const width = window.innerWidth;
  
  if (width < 1280) {
    return {
      hotZoneSize: 60,
      minPanelWidth: 180,
      minPanelHeight: 120
    };
  } else if (width < 1920) {
    return {
      hotZoneSize: 80,
      minPanelWidth: 200,
      minPanelHeight: 150
    };
  } else {
    return {
      hotZoneSize: 100,
      minPanelWidth: 250,
      minPanelHeight: 180
    };
  }
};

const panelManager = usePanelManager(getResponsiveConfig());
```

---

## ⚠️ 注意事项

### 1. 性能考虑

- 频繁拖拽可能影响性能
- 建议添加防抖处理
- 大量标签页时考虑虚拟滚动

### 2. 数据持久化

```typescript
// 保存当前布局
const saveLayout = () => {
  const layout = {
    dockConfig: layoutConfig.value.dockContainerConfig,
    floatPanels: layoutConfig.value.floatPanelGroupList
  };
  
  localStorage.setItem('panel-layout', JSON.stringify(layout));
};

// 恢复布局
const restoreLayout = () => {
  const saved = localStorage.getItem('panel-layout');
  if (saved) {
    const layout = JSON.parse(saved);
    // 应用布局
  }
};
```

### 3. 浏览器兼容性

- 需要现代浏览器支持
- CSS Grid 和 Flexbox
- ES6+ 特性
- 不支持 IE11

---

## 🎓 学习路径

### 初学者

1. ✅ 查看 Demo 页面
2. ✅ 尝试拖动悬浮面板（热区识别）
3. ✅ 调整停靠面板占比
4. ✅ 使用层级控制按钮

### 进阶用户

1. ✅ 理解热区检测算法
2. ✅ 学习占比计算逻辑
3. ✅ 掌握标签拖拽机制
4. ✅ 自定义配置参数

### 高级开发者

1. ✅ 阅读 usePanelManager.ts 源码
2. ✅ 扩展自定义功能
3. ✅ 优化性能瓶颈
4. ✅ 贡献代码改进

---

## 📚 相关文档

- [完整功能说明](./FEATURES.md)
- [架构设计](./ARCHITECTURE.md)
- [更新日志](./CHANGELOG.md)
- [重构总结](./REFACTORING_SUMMARY.md)

---

## 🐛 问题反馈

如果遇到问题或有建议：

1. 检查控制台错误信息
2. 查看相关文档
3. 提交 Issue
4. 联系开发团队

---

**版本**: 5.0.0  
**最后更新**: 2026-01-20  
**适用人群**: 所有用户  
**预计学习时间**: 15-30分钟
